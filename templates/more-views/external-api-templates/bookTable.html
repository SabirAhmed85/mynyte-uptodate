<ion-content scroll="false" hide-nav-bar="true">
  <div class="add-message-container external-view-message"
    ng-if="rootScope.user.isBusiness == '1'">
    <div class="add-searchMessage topMessage">
        <p>You are already logged in to MyNyte as {{rootScope.user.displayName}}, but you cannot make a table booking request using a MyNyte Business profile.</p>
    </div>
  </div>
  <div class="add-message-container external-view-message"
    ng-if="rootScope.user.isBusiness == '0'">
    <div class="add-searchMessage topMessage">
        <p class="top-message-title">Already logged in to MyNyte</p>
        <p class="top-message-text">You are already logged in to MyNyte as {{rootScope.user.displayName}}.</p>
        <p class="top-message-text full-note">After you complete this Table Booking, it will be saved in your <a target="_blank" href="https://www.mynyte.co.uk/#/app/profile/" title="Track Your MyNyte Activity">MyNyte Activity</a> and you can keep track of it.</p>
        <p class="top-message-footer"><a href="https://www.mynyte.co.uk/#/app/profile/" target="_blank">Not {{rootScope.user.displayName}}? Log out of {{rootScope.user.displayName}}'s MyNyte account.</a></p>
    </div>
  </div>
  <div class="add-message-container external-view-message"
    ng-if="!rootScope.userLoggedIn">
    <div class="add-searchMessage topMessage">
        <p>Already have a MyNyte account? Log in to make booking tables much easier, and can keep track of all your bookings too!</p>
    </div>
  </div>
  <div class="tile register">
    <form name="completeTableBookingForm" class="book-table">
        <style>
            form {
                margin-top: 15px;
            }
            label {
                float: left;
                z-index: 0;
                position: relative;
            }
        
            button.skip-step {
                float: right;
                margin: 0 5% 15px;
                background: #eeeeff;
                border: 1px solid #bbbbff;
                border-radius: 4px;
                padding: 2px 25px;
                color: #667;
            }
        </style>
        
        <label class="item-header"
            ng-show="!rootScope.userLoggedIn">
            Contact Details
        </label>
        <label class="item"
            ng-if="!rootScope.userLoggedIn">
            <input onFocus="window.scrollTo(0, 0);" class="white nightlife-input" type="text" placeholder="Full Name" name="name"  
                ng-required="!rootScope.userLoggedIn"
                ng-model="name">
        </label>
        <label class="item"
            ng-if="!rootScope.userLoggedIn">
            <input onFocus="window.scrollTo(0, 0);" class="white nightlife-input" type="email" placeholder="Email Address" name="email"  
                ng-required="!rootScope.userLoggedIn"
                ng-model="email">
    	</label>
        <div class="item tablefor-item">
            <span class="tablefor-span">Table for:</span>
            <button class="tableforpicker"
                ng-click="updateTableFor(1);">
                <i class="ion-plus-round"></i>
            </button>
            <div class="white nightlife-input fake-input fake-tablefor-input"
                ng-class="{'fake-input-maxed': tableForIsMax}">
                {{tableFor}}
            </div>
            <button class="tableforpicker"
                ng-click="updateTableFor(-1);">
                <i class="ion-minus-round"></i>
            </button>
    	</div>
        <label class="item-header">
            Booking Date &amp; Time
        </label>
        <label class="item">
            <div class="white nightlife-input fake-input fake-date-input">
                {{dateInputHTML}}
            </div>
            <button class="datepicker"
                ng-click="openDatePicker();">
                <i class="ion-ios-calendar"></i>
            </button>
    	</label>
        <label class="item">
            <div class="white nightlife-input fake-input fake-date-input">
                {{timeInputHTML}}
            </div>
            <button class="timepicker"
                ng-click="openTimePicker();">
                <i class="ion-ios-clock"></i>
            </button>
    	</label>
        <div class="form-error-note"
            ng-if="tableBookingDisallowed.length > 0"
            ng-repeat="reason in tableBookingDisallowed"
            ng-bind-html="reason.note">
        </div>
    	<button type="submit" id="submit" class="button button-red button-large"
            ng-disabled="completeTableBookingForm.$invalid || rootScope.user.isBusiness == '1' || tableBookingDisallowed.length > 0"
            ng-click="completeTableBooking(name, email);">
            Book It
        </button>
    </form>
  </div>
  
</ion-content>