<div id="searchBox" class="slide-animate-container">
    <h2>
        <span class="blink span-left trans"
            ng-class="{'full': rootScope.showNightLifeSearch, 'hidden': rootScope.showUpdatePost}"
            ng-click="toggleNightLifeSearch();">
            <span class="text">Find Your Night</span>
            <i ng-class="{'ion-ios-search-strong': !rootScope.showNightLifeSearch, 'ion-close': rootScope.showNightLifeSearch}"></i>
        </span>
        <!--<span class="blink span-right trans"
            ng-class="{'hidden': rootScope.showNightLifeSearch, 'full': rootScope.showUpdatePost}"
            ng-click="postUpdateToFeed()">
            <span class="text">Post an Update</span>
            <i ng-class="{'ion-speakerphone': !rootScope.showUpdatePost, 'ion-close': rootScope.showUpdatePost}"></i>
        </span> -->
        <!--
        <i class="search-close ion-close-round" ng-class="{'ion-close-round': rootScope.nightSearchOpen,'ion-ios-search-strong': !rootScope.nightSearchOpen}" ng-click="rootScope.toggleNightSearch()" style="
    display: none;
"></i>
        <i class="search-close" ng-class="{'ion-close-round': rootScope.nightSearchOpen,'ion-ios-search-strong': !rootScope.nightSearchOpen}" ng-click="rootScope.toggleNightSearch()"></i> -->
    </h2>
    <div id="updateBox-toggle" class="trans" ng-class="{'open': rootScope.showUpdatePost}">
        <div ng-show="rootScope.userLoggedIn">
            <span class="night left"
                ng-click="prepareUpdateType('Night')">
                <label>
                    <i class="ion-wineglass slow-trans"></i>
                </label>
                <span>Photos of a Night</span>
              </span>
              <span class="meal left"
                ng-click="prepareUpdateType('Meal')">
                <label>
                    <i class="ion-fork slow-trans"></i>
                </label>
                <span>Photos of a Meal</span>
              </span>
              <span class="approve left"
                ng-click="prepareUpdateType('Approval');">
                <label>
                    <i class="ion-ribbon-b slow-trans"></i>
                </label>
                <span>Seal of Approval</span>
              </span>
              <span class="check-in left"
                ng-click="prepareUpdateType('CheckIn');">
                <label>
                    <i class="ion-location slow-trans"></i>
                </label>
                <span>Check-in in Town</span>
              </span>
        </div>
        <div class="login-note"
            ng-show="!rootScope.userLoggedIn">
            <i class="ion-person"></i>
            <span>Log in to post updates!</span>
            <button class="button-half btn-red"
                ng-click="goToLogin($event);">
                Log In
            </button>
        </div>
    </div>
    <div id="searchBox-toggle" class="trans" ng-class="{'open': rootScope.showNightLifeSearch}">
        <div id="searchbox-categories">
            <i class="ion-arrow-left-b"></i>
            <div class="nightfinder-horizontal-slider slow-trans">
                <span horizontal-slider data-index="{{type.displayIndex}}" data-val="0" data-name="{{type.className}}"
                    class="slow-trans {{type.className}}-slider-option index-{{type.displayIndex}} slider-option"
                    ng-repeat="type in rootScope.nightFinderListingTypes">{{type.name}}</span>
            </div>
            <i class="ion-arrow-right-b"></i>
            <span id="triangle"></span>
        </div>
        <div id="searchBox-inner">
            <div class="input-container">
                <div class="slow-trans">
                    <label>My Town</label>
                    <div class="town-display left"
                        ng-click="showTownSelectFunc();">{{rootScope.currentSearchTown.name}}
                        <button><i ng-class="{'ion-chevron-down': !rootScope.showTownSelect, 'ion-chevron-up': rootScope.showTownSelect}"></i></button>
                    </div>
                </div>
                <div class="music-input-container-inner"
                    ng-show="rootScope.currentSelectedListingTypeToFind == 'clubnight'">
                    <label>My Music</label>
                    <div class="music-display right" ng-click="rootScope.showNightFind2ndSelectFunc();">
                        {{rootScope.currentSearchMusic.name}}
                        <button><i ng-class="{'ion-chevron-down': !rootScope.showNightFind2ndSelect, 'ion-chevron-up': rootScope.showNightFind2ndSelect}"></i></button>
                    </div>
                </div>
                <div class="music-input-container-inner"
                    ng-show="rootScope.currentSelectedListingTypeToFind == 'restaurant' || rootScope.currentSelectedListingTypeToFind == 'takeaway'">
                    <label>My Food Style</label>
                    <div class="music-display right" ng-click="rootScope.showNightFind2ndSelectFunc();">
                        <span ng-if="rootScope.currentSelectedListingTypeToFind == 'restaurant'">
                            {{rootScope.currentSearchRestaurantFoodCat.name}}
                        </span>
                        <span ng-if="rootScope.currentSelectedListingTypeToFind == 'takeaway'">
                            {{rootScope.currentSearchTakeawayFoodCat.name}}
                        </span>
                        <button><i ng-class="{'ion-chevron-down': !rootScope.showNightFind2ndSelect, 'ion-chevron-up': rootScope.showNightFind2ndSelect}"></i></button>
                    </div>
                </div>
                <div class="music-input-container-inner"
                    ng-show="rootScope.currentSelectedListingTypeToFind == 'cinema'">
                    <label>My Movie Style</label>
                    <div class="music-display right" ng-click="rootScope.showNightFind2ndSelectFunc();">
                        {{rootScope.currentSearchMovieCat.name}}
                        <button><i ng-class="{'ion-chevron-down': !rootScope.showNightFind2ndSelect, 'ion-chevron-up': rootScope.showNightFind2ndSelect}"></i></button>
                    </div>
                </div>
                <div class="music-input-container-inner"
                    ng-show="rootScope.currentSelectedListingTypeToFind == 'cluborbar'">
                    <label>Bar or Club</label>
                    <div class="music-display right" ng-click="rootScope.showNightFind2ndSelectFunc();">
                        {{rootScope.currentSearchClubOrBarCat.name}}
                        <button><i ng-class="{'ion-chevron-down': !rootScope.showNightFind2ndSelect, 'ion-chevron-up': rootScope.showNightFind2ndSelect}"></i></button>
                    </div>
                </div>
                
            </div>
            <div class="cat-select-list not-white" ng-class="{'animate-show': rootScope.showTownSelect}">
                <div ng-repeat="cat in rootScope.townCategories" ng-click="rootScope.selectTown(cat)" class="town-select cat-select-option" ng-class="{'active': cat.active}">{{cat.name}}<i class="ion-checkmark" ng-show="cat.selected"></i></div>
            </div>
            <div class="cat-select-list" ng-class="{'animate-show': rootScope.showNightFind2ndSelect}">
                <div ng-repeat="cat in rootScope.nightFind2ndSelect" ng-click="rootScope.select2ndSelectCat(cat)" class="music-select cat-select-option" ng-class="{'active': cat.active}">
                    {{cat.name}}
                    <span class="icon-container">
                        <span class="cat-count" ng-if="cat.count != null">({{cat.count}})</span>
                        <i class="ion-checkmark" ng-show="cat.selected"></i>
                    </span>
                </div>
            </div>
            <button class="btn button-full" id="search-submit" ng-click="findNight();">Find My Night</button>
        </div>
    </div>
</div>

    <div class="add-searchMessage topMessage feed-header trans {{feedHeaderItem}}">
        <span class="now-showing-label"
            ng-show="feedHeaderItem != 'closed'">
            Now Showing in your feed
            <span class="town-label" ng-click="arrangeGlobalTownSelectFunction('feedHeader');">
                <label>{{rootScope.currentSearchTown.name}}</label>
                <!-- <i class="ion-arrow-down-b"></i> -->
            </span>
        </span>
        <!--
        <span class="main-feed-town-label"
            ng-click="arrangeGlobalTownSelectFunction('feedHeader');"
            ng-show="feedHeaderItem == 'closed'">
            {{rootScope.currentSearchTown.name}}
            <i class="ion-arrow-down-b"></i>
        </span>
        -->
        <i class="ion-fork food-icon icon-image"
            ng-show="feedHeaderItem == 'food'"></i>
        <i class="ion-film-marker movies-icon icon-image"
            ng-show="feedHeaderItem == 'movies'"></i>
        <i class="ion-wineglass events-icon icon-image"
            ng-show="feedHeaderItem == 'events'"></i>
        
        <span class="feed-header-title"
            ng-show="feedHeaderItem != 'closed'">
            <span class="food-title"
                ng-show="feedHeaderItem == 'food'">Tonight's Dinner Rush</span>
            <span class="movies-title"
                ng-show="feedHeaderItem == 'movies'">Tonight's Movies</span>
            <span class="events-title"
                ng-show="feedHeaderItem == 'events'">Tonight's Nightlife</span>
            <span class="hide-button"
                ng-click="changeFeedHeader('closed')">Back</span>
            <span class="food-text"
                ng-show="feedHeaderItem == 'food'">Find somewhere to eat in town tonight</span>
            <span class="movies-text"
                 ng-show="feedHeaderItem == 'movies'">Movies showing today in your town</span>
            <span class="events-text"
                 ng-show="feedHeaderItem == 'events'">Events, clubs &amp; bars to go to in town</span>
        </span>
        <span ng-show="feedHeaderItem == 'closed'">
            <i class="ion-film-marker movies-icon label" ng-click="changeFeedHeader('movies')"></i>
            <i class="ion-fork food-icon label" ng-click="changeFeedHeader('food')"></i>
            <i class="ion-wineglass events-icon label" ng-click="changeFeedHeader('events')"></i>
            <span class="tonight-label">Tonight:</span>
        </span>
    </div>
