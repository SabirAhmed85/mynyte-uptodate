<ion-view view-title="{{rootScope.pageTitle}} on MyNyte.co.uk" class="black_bg border-top marketing-emails list-style form-view">
   <ion-content has-header="true">
        <div ng-if="!rootScope.userLoggedIn" id="log-in-container">
            <div class="item log-in">
                <div>
                    <img id="profile-image" src="sneak-preview/img/n-logo.png">
                </div>
                <form name="logInForm">
                    <label class="item-input-wrapper email">
                        <input name="email" ng-model="email" class="white nightlife-input" type="text" placeholder="E-mail address" required/>
                    </label>
                    <div class="item-input-wrapper pword">
                        <input name="word" ng-model="word" class="white nightlife-input" type="{{passwordInputType}}" placeholder="Password" required/>
                        <button
                            ng-click="togglePasswordView($event)">
                            {{togglePasswordViewButtonText}}
                        </button>
                    </div>
                
                    <button type="submit" id="submit" class="submit button button-large button-red"
                        ng-click="logIn(email, word)"
                        ng-disabled="logInForm.$invalid"
                        ng-class="{'disabled': logInForm.$invalid}">
                        <span class="inner-wrapper">
                            <i class="ion-ios-person"></i>
                            <span class="text">Log into MyNotes</span>
                        </span>
                    </button>
                </form>
                
                <a href="#/app/resetPassword/1//">Forgot Your Password</a>
                <a ng-if="rootScope.underConstruction && rootScope.adminUserLoggedIn"
                    ng-click="rootScope.adminLogOut();">Log Out Admin User</a>
        	</div>
        </div>
        
        <div ng-if="rootScope.userLoggedIn">
        
            <div id="profile-mainContent">
                <div id="content">
                    <div class="list">
                        <form ng-if="itemType=='Time Sheet'" class="business-item-form edit-form" ng-class="{'editing': editing}" name="updateOfferForm">
                
                            <label class="item-header first">
                                Time Sheet Details
                            </label>
                            <label class="item-header">
                                Period Start Date
                            </label>
                            <label class="item">
                                {{myNyteItem['Period Start Date']}}
                            </label>
                            <div ng-repeat="entry in myNyteItem['Time Sheet Entries']">
                                <label class="item-header">
                                    {{entry['Interval Name']}}
                                </label>
                                <label class="item">
                                    {{entry['Interval Description']}}
                                </label>
                            </div>
                            <button ng-disabled="updateOfferForm.$invalid" class="button button-red button-large"
                                ng-click="updateMovie()"
                                ng-if="editing">
                                Update Movie
                            </button>
                        </form>
                        
                        <form ng-if="itemType=='External Contact' && (format == 'Read' || format == 'Update' || format == 'Delete')" class="business-item-form edit-form" ng-class="{'editing': editing}" name="updateContactForm">
                
                            <label class="item-header first">
                                Contact Details
                            </label>
                            <label class="item-header">
                                Name
                            </label>
                            <label class="item">
                                {{myNyteItem['Name']}}
                            </label>
                            <label class="item-header">
                                Business Name
                            </label>
                            <label class="item">
                                {{myNyteItem['Business Name']}}
                            </label>
                            <label class="item-header">
                                Quick Description
                            </label>
                            <label class="item">
                                {{myNyteItem['Quick Description']}}
                            </label>
                            <label class="item-header"
                                ng-if="myNyteItem['Phone 1'] != null">
                                Phone 1
                            </label>
                            <label class="item"
                                ng-if="myNyteItem['Phone 1'] != null">
                                {{myNyteItem['Phone 1']}}
                            </label>
                            <label class="item-header"
                                ng-if="myNyteItem['Email 1'] != null">
                                Email 1
                            </label>
                            <label class="item"
                                ng-if="myNyteItem['Email 1'] != null">
                                {{myNyteItem['Email 1']}}
                            </label>
                            <label class="item-header"
                                ng-if="myNyteItem['Phone 2'] != null">
                                Phone 2
                            </label>
                            <label class="item"
                                ng-if="myNyteItem['Phone 2'] != null">
                                {{myNyteItem['Phone 2']}}
                            </label>
                            <label class="item-header"
                                ng-if="myNyteItem['Email 2'] != null">
                                Email 2
                            </label>
                            <label class="item"
                                ng-if="myNyteItem['Email 2'] != null">
                                {{myNyteItem['Email 2']}}
                            </label>
                            
                            <label class="item-header">
                                Comments
                            </label>
                            <div ng-repeat="comment in myNyteItem['External Contact Comments']">
                                <label class="item">
                                    {{comment['Text']}}
                                    <span class="side-note">
                                        {{comment['Creator Name']}}
                                        on {{comment['DateTime Created'].split(' ')[0]}} at {{comment['DateTime Created'].split(' ')[1]}}
                                    </span>
                                </label>
                            </div>
                            
                            <button class="button button-red button-large"
                                ng-click="addComment()"
                                ng-if="format == 'Read'">
                                Add Comment
                            </button>
                            
                            <button ng-disabled="updateExpenseForm.$invalid" class="button button-red button-large"
                                ng-click="deleteMyNyteItem()"
                                ng-if="format == 'Delete'">
                                Delete Contact
                            </button>
                        </form>
                        
                        <form ng-if="itemType=='External Contact' && (format == 'Create' || format == 'EditUpdate')" class="business-item-form edit-form" ng-class="{'editing': editing}" name="createContactForm">
                
                            <label class="item-header first">
                                Create New Contact
                            </label>
                            <label class="item-header">
                                Name
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Name" ng-model="myNyteItem['Name']" name="Name" required>
                            </label>
                            <label class="item-header">
                                Business Name
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Business Name" ng-model="myNyteItem['Business Name']" name="Business Name" required>
                            </label>
                            <label class="item-header">
                                Quick Description
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Quick Description (Optional)" ng-model="myNyteItem['Quick Description']" name="Quick Description">
                            </label>
                            <label class="item-header">
                                Phone 1
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Phone 1" ng-model="myNyteItem['Phone 1']" name="Phone 1">
                            </label>
                            <label class="item-header">
                                Phone 2
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Phone 2" ng-model="myNyteItem['Phone 2']" name="Phone 2">
                            </label>
                            <label class="item-header">
                                Email 1
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Email 1" ng-model="myNyteItem['Email 1']" name="Email 1">
                            </label>
                            <label class="item-header">
                                Email 2
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="text" placeholder="Email 2" ng-model="myNyteItem['Email 2']" name="Email 2">
                            </label>
                            
                            <button ng-disabled="createContactForm.$invalid" class="button button-red button-large"
                                ng-click="addMyNyteItem()"
                                ng-if="format == 'Create'">
                                Create Contact
                            </button>
                            <button ng-disabled="createContactForm.$invalid" class="button button-red button-large"
                                ng-click="updateMyNyteItem()"
                                ng-if="format == 'EditUpdate'">
                                Update Contact
                            </button>
                        </form>
                        
                        <form ng-if="itemType=='Expense Claim' && (format == 'Read' || format == 'Update' || format == 'Delete')" class="business-item-form edit-form" ng-class="{'editing': editing}" name="updateOfferForm">
                
                            <label class="item-header first">
                                Expense Claim Details
                            </label>
                            <label class="item-header">
                                Status
                            </label>
                            <label class="item">
                                {{myNyteItem['Status']}}
                            </label>
                            <label class="item-header">
                                Amount (£)
                            </label>
                            <label class="item">
                                {{myNyteItem['Claim Amount']}}
                            </label>
                            <label class="item-header">
                                Date &amp; Time Created
                            </label>
                            <label class="item">
                                {{myNyteItem['DateTime Created']}}
                            </label>
                            <label class="item-header">
                                Date Incurred
                            </label>
                            <label class="item">
                                {{myNyteItem['Date Expense Incurred']}}
                            </label>
                            <label class="item-header">
                                Description
                            </label>
                            <label class="item">
                                {{myNyteItem['Description']}}
                            </label>
                            <button ng-disabled="updateExpenseForm.$invalid" class="button button-red button-large"
                                ng-click="updateMyNyteItem()"
                                ng-if="format == 'Update'">
                                Approve Expense Claim
                            </button>
                            
                            <button ng-disabled="updateExpenseForm.$invalid" class="button button-red button-large"
                                ng-click="deleteMyNyteItem()"
                                ng-if="format == 'Delete'">
                                Approve Expense Claim
                            </button>
                        </form>
                        
                        <form ng-if="itemType=='Expense Claim' && (format == 'Create' || format == 'EditUpdate')" class="business-item-form edit-form" ng-class="{'editing': editing}" name="updateOfferForm">
                
                            <label class="item-header first">
                                Expense Claim Details
                            </label>
                            <label class="item-header"
                                ng-if="format != 'Create'">
                                Status
                            </label>
                            <label class="item"
                                ng-if="format != 'Create'">
                                {{myNyteItem['Status']}}
                            </label>
                            <label class="item-header">
                                Amount (£)
                            </label>
                            <label class="item">
                                <input class="white nightlife-input" type="number" placeholder="Claim Amount (£)" ng-model="myNyteItem['Claim Amount']" name="Claim Amount" required>
                            </label>
                            <label class="item-header">
                                Date Incurred
                            </label>
                            <label class="item">
                                <span style="position: relative; width: 100%; float: left;">
                                    <div class="white nightlife-input fake-input fake-date-input">
                                        {{dateInputHTML}}
                                    </div>
                                    <button class="datepicker"
                                        ng-click="openDatePicker();">
                                        <i class="ion-ios-calendar"></i>
                                    </button>
                                </span>
                            </label>
                            <label class="item-header">
                                Description
                            </label>
                            <label class="item">
                                <textarea class="white nightlife-input nightlife-input-square" placeholder="Description" ng-model="myNyteItem['Description']" name="Description" ng-max="1000" required></textarea>
                            </label>
                            <button ng-disabled="updateOfferForm.$invalid" class="button button-red button-large"
                                ng-click="addMyNyteItem()"
                                ng-if="format == 'Create'">
                                Submit Expense Claim
                            </button>
                            <button ng-disabled="updateOfferForm.$invalid" class="button button-red button-large"
                                ng-click="editMynyteItem()"
                                ng-if="format == 'EditUpdate'">
                                Update Expense Claim
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
   
</ion-view>
