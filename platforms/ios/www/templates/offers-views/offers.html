<ion-view view-title="See Bedford Offers on MyNyte.co.uk" class="black_bg border-top no-breadcrumb">
  	<ion-content>
        <div class="list">
            <div class="page-loading-container trans"
                ng-class="{'isHidden': !pageLoading}">
                <ion-spinner icon="lines" class="spinner-red"></ion-spinner>
                <span class="loading-text">Loading ...</span>
            </div>
            <div id="offers-mainContent" class="trans"
                ng-class="{'show': !pageLoading}">
                <div class="add-message-container">
                    <div class="add-searchMessage topMessage">
                        <p>You are currently looking at Offers in <b>Bedford</b>.</p>
                    </div>
                </div>
                
                <div class="niceTile" id="today-offers">
                    <h2><span>Today's Offers/Deals</span></h2>
                    <div class="niceTile-inner">
                        <div class="accordian today-offers">
                            <div class="accordian-section first" ng-repeat="category in todaysCategories">
                                <label ng-click="category.showFull = !category.showFull">
                                    {{category.name}}
                                    <i ng-class="{'ion-plus-round': !category.showFull, 'ion-minus-round': category.showFull}"></i>
                                </label>
                                <div class="content" ng-show="category.showFull" ng-class="{'open':category.showFull}">
                                    <div class="offer" eat-click-if="feature.businessIsFeatured == '0'" ui-sref="app.offers.offerDetail({_id:feature._id})" ng-repeat="feature in category.offers" ng-class="{'feature':feature._offerTypeId != '1', 'first': feature.index == 1}">
                                        <span class="offer-food-style-label"
                                            ng-if="feature.offerFoodStyle != null">{{feature.offerFoodStyle}}</span>
                                        <span class="offer-exclusive-label"
                                            ng-if="feature._offerTypeId == '3'">MyNyte Exclusive</span>
                                        <span class="offer-img-container"
                                            ng-style="{'height': {{windowWidth * (7/16)}}+'px'}"
                                            ng-if="feature.businessIsFeatured == '1' && feature.currentOfferCoverPhotoName != 'default-offer.jpg'">
                                            <img ng-src="https://www.mynyte.co.uk/sneak-preview/img/user_images/cover_photo/{{feature.currentOfferCoverPhotoName}}"
                                                src="img/user_images/cover_photo/default-offer.jpg"
                                                ng-if="feature.currentOfferCoverPhotoName != 'default-offer.jpg'"/>
                                        </span>
                                        <p class="offer-main-text">{{feature.description}}</p>
                                        <i class="ion-chevron-right" ng-show="feature.businessIsFeatured == '1'"></i>
                                        <div class="offer-where-container">
                                            <p class="offer-where-text">Where: {{feature.businessName}}</p>
                                        </div>
                                        <div class="offer-when-container">
                                            <p class="offer-when-text">
                                                <span>&nbsp;When:</span>
                                                <span
                                                    ng-if="feature.weekdayName != null">
                                                    &nbsp;Today and every {{feature.weekdayName}}
                                                </span>
                                                <span
                                                    ng-if="feature.weekdayName == null">
                                                    &nbsp;Now
                                                </span>
                                                <span ng-if="feature.startDateTimeString != feature.endDateTimeString">&nbsp;until</span>
                                                <span>&nbsp;{{feature.endDateTimeString}}</span>
                                             </p>
                                        </div>
                                        <div class="offer-event-container"
                                            ng-if="feature.relatedEventName != null">
                                            <i class="ion-calendar"></i>Event: {{feature.relatedEventName}}
                                        </div>
                                        <div class="icon-bar-container" ng-include="'templates/shared-partials/listing-icon-bar.html'"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="niceTile" id="future-offers">
                    <h2><span>Future Offers/Deals</span></h2>
                    <div class="niceTile-inner">
                        <div class="accordian">
                            <div class="accordian-section first" ng-repeat="category in futureCategories">
                                <div ng-include="'templates/shared-partials/offer-category-accordian.html'"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </ion-content>
    <div class="offers-side side" ng-include="'templates/shared-partials/events-sidebar.html'"></div>
</ion-view>
